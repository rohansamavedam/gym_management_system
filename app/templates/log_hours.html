<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="generator" content="Jekyll v3.8.6">
    <title> Gym Management - Wellness City</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link rel="canonical" href="https://getbootstrap.com/docs/4.4/examples/album/">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/A.style.css.pagespeed.cf.69oUKoK-5A.css">

    <!-- Bootstrap core CSS -->
    <!link href="/docs/4.4/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="/docs/4.4/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/docs/4.4/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/docs/4.4/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="manifest" href="/docs/4.4/assets/img/favicons/manifest.json">
    <link rel="mask-icon" href="/docs/4.4/assets/img/favicons/safari-pinned-tab.svg" color="#563d7c">
    <link rel="icon" href="/docs/4.4/assets/img/favicons/favicon.ico">
    <meta name="msapplication-config" content="/docs/4.4/assets/img/favicons/browserconfig.xml">
    <meta name="theme-color" content="#563d7c">

    <style>


  table {
    border-collapse: collapse;
    width: 100%;
    margin: 10px 0;
  }
  
  th, td {
    padding: 8px;
    text-align: left;
    border: 1px solid white;
    color: white;
  }
  
  th {
    background-color: #4CAF50;
  }
  
  tr:nth-child(even) {
    background-color: #88bfbb;
  }
  
  tr:hover {
    background-color: #ddd;
  }

    
      select {
      padding: 5px;
      font-size: 16px;
      }

      .card-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        height: auto;
        margin-top: 5%;
      }

      .cards {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(210px, 1fr));
        grid-gap: 20px;
        margin-top: 10%;
      }
      
      .card-title{
        color: white;
        font-weight: bolder;
        font-size: xx-large;
      }

      .card {
        display: grid;
        color: black;
        font-weight: bold;
        grid-template-rows: max-content 200px 1fr;
        float:left;
        cursor: pointer;
      }

      .card img {
        object-fit: cover;
        width: 100%;
        height: 100%;
      }

      .carousel-caption{
        width : 25%;
        color: white;
        font-weight: bold;
      }

      .form-group{
        border: 1px;
        width : 220px;
        height : 90px;
        margin-left: auto;
        margin-right: auto;
        margin-top: 20px;
        color: white;
        align-items: center;
        font-size: medium;
        font-weight: bold;
      }

      .btn{
        margin-top: 10%;
      }

      .navbar {
        height: 100px;
      }

      .homepage-title{
        font-size: 35.5px;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      body {
        background: url("https://i.pinimg.com/originals/8f/c6/b7/8fc6b715427139c92428b777ec913022.jpg") no-repeat center center fixed;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        background-repeat: no-repeat;
      }
    </style>
    <script>
      function generateSubmitApiLink() {
        const locdropdown = document.getElementById("loc-dropdown");
        const dropdown = document.getElementById("dropdown");
        const timedropdown = document.getElementById("time-dropdown");
        const datedropdown = document.getElementById("date-dropdown");
        const submitLink = document.getElementById("submitLink");
       
        newUrl = "/addMemberLog/" + locdropdown.options[locdropdown.selectedIndex].value +"/"+dropdown.options[dropdown.selectedIndex].value +"/"+ timedropdown.options[timedropdown.selectedIndex].value + "/"+datedropdown.options[datedropdown.selectedIndex].value;
        console.log("Log hours are: ", newUrl)
        submitLink.setAttribute('href', newUrl)
      }
      
      window.onload = function() {
      const dataRows = document.querySelectorAll('#table-body tr');
      const data = Array.from(dataRows).map(function(row) {
      return {
        date: row.children[2].textContent,
        class: row.children[0].textContent,
        location: row.children[3].textContent,
        minutes: row.children[1].textContent
      };
  });
  renderTable(data);
};

     
    </script>
        <script>
          function checkIfSubmit() {
            var submit = "{{ submit }}"
            if (submit == "True") {
              alert("Log added")
              window.history.back()  
            }
          }
          
        </script>
    <!-- Custom styles for this template -->
    <!link href="album.css" rel="stylesheet">
  </head>
  <body onload="checkIfSubmit()">
    {% include 'includes/_navbar.html' %}
    <header>
      <br><br><br><br>
    </header>

<section class="jumbotron text-center">
<br>
  <h5 class="card-title" style="background-color: black;">Log My Hours</h5>
  <br><br><br>  
  <label for="loc-dropdown" style="color: white; font-weight: bold; font-size: 20px;">Location:</label>
  <select id="loc-dropdown" name="loc-dropdown" onchange="generateSubmitApiLink()">
  {% for val in loc %}
  <option value="{{val[0]}}">{{val[0]}}</option>
  {%endfor%}     
  </select>
  <br><br><br>  
  <label for="dropdown" style="color: white; font-weight: bold; font-size: 20px;">Class/ Equipment:</label>
  <select id="dropdown" name="dropdown" onchange="generateSubmitApiLink()">
  {% for val in result %}
  <option value="{{val[0]}}">{{val[0]}}</option>
  {%endfor%}     
  </select>
  <br><br>
  <label for="time-dropdown" style="color: white; font-weight: bold; font-size: 20px;">Minutes:</label>
  <select id="time-dropdown" name = "time-dropdown" onchange="generateSubmitApiLink()">
  <script>
  var select = document.getElementById("time-dropdown");
  for (var i = 5; i <= 60; i += 5) {
    var option = document.createElement("option");
    option.value = i;
    option.text = i;
    select.appendChild(option);
  }
  </script>
  </select>
  <br><br>
  <label for="date-dropdown" style="color: white; font-weight: bold; font-size: 20px;">Date:</label>
  <select id="date-dropdown" name = "date-dropdown" onchange="generateSubmitApiLink()">
  <script>
    var select = document.getElementById("date-dropdown");
    var today = new Date();
    for (var i = 0; i < 8; i++) {
      var date = new Date(today.getFullYear(), today.getMonth(), today.getDate() - i);
      var option = document.createElement("option");
      option.value = date.toISOString().slice(0, 10);
      option.text = date.toISOString().slice(0, 10);
      select.appendChild(option);
    }
  </script>  
  </select>
   <div class="form-group">
    <a id="submitLink" href="{{ url_for('addMemberLog', location='', classname='', time='', date='') }}{{ '/' + loc-dropdown if dropdown else '' }}{{ '/' + dropdown if dropdown else '' }}{{ '/' + time-dropdown if dropdown else '0' }}{{ '/' + date-dropdown if dropdown else '' }}">
    <button id="submit-btn" type="button" class="btn btn-info btn-lg">Submit</button>		
  </a>
  </div>  
</section>
<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Class/Equipment</th>
      <th>Location</th>
      <th>Minutes</th>
    </tr>
  </thead>
  <tbody id="table-body">
    {% for record in log %}
    <tr>
      <td>{{ record[2] }}</td>
      <td>{{ record[0] }}</td>
      <td>{{ record[3] }}</td>
      <td>{{ record[1] }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</body>
